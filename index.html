<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TöGGeli-Cup 2025</title>
    <script type="module" src="./firebase.js"></script>
    <script type="module">
        import { db, ref, onValue } from "./firebase.js";

        document.addEventListener("DOMContentLoaded", () => {
            const teamsRef = ref(db, "teams");
            const newsRef = ref(db, "news");

            // Teams anzeigen
            onValue(teamsRef, (snapshot) => {
                const teamsTable = document.getElementById("teamsTable");
                teamsTable.innerHTML = "";
                snapshot.forEach((childSnapshot) => {
                    const team = childSnapshot.val();
                    teamsTable.innerHTML += `<tr>
                        <td>${team.name}</td>
                        <td>${team.player1}</td>
                        <td>${team.player2}</td>
                    </tr>`;
                });
            });

            // News anzeigen
            onValue(newsRef, (snapshot) => {
                const newsContainer = document.getElementById("newsContainer");
                newsContainer.innerHTML = "";
                snapshot.forEach((childSnapshot) => {
                    const newsItem = childSnapshot.val();
                    newsContainer.innerHTML += `<p>${newsItem.date}: ${newsItem.text}</p>`;
                });
            });
        });
    </script>
</head>
<body>
    <h1>TöGGeli-Cup 2025</h1>

    <h2>News</h2>
    <div id="newsContainer"></div>

    <h2>Teams</h2>
    <table>
        <thead>
            <tr><th>Team</th><th>Spieler:in 1</th><th>Spieler:in 2</th></tr>
        </thead>
        <tbody id="teamsTable"></tbody>
    </table>
</body>
</html>
